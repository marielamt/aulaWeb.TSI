{% extends 'base.html' %}

<head>
    <title>Login</title>
    {% block scripts %}
    <script>
        function validarSenha() {
            var password = document.getElementById("senha").value;

            // Verificar o tamanho mínimo da senha
            if (password.length < 8) {
                alert("A senha deve ter pelo menos 8 caracteres");
                return false;
            }

            // Verificar se a senha contém pelo menos 
            var uppercaseRegex = /[A-Z]/; //Regex é como uma máscara
            var numberRegex = /[0-9]/;
            //uma letra maiúscula e um número
            if (!uppercaseRegex.test(password) || !numberRegex.test(password)) {
                alert("A senha deve conter pelo menos uma letra maiúscula e um número");
                return false; // não passou na validação, retorna false 
            }
            return true; // o formulário será enviado para a rota /autenticar
        }
    </script>
    {% endblock %}
</head>

{% block conteudo %}
    <!-- chama o javascript para validarsenha -->
    <form action="/autenticar"  method="POST" onsubmit="return validarSenha()" >
        <!-- ao clickar no botão OK, no submit vai para a rota /autenticar -->
        <br/>
        <!-- SUBSTITUIÇÃO
        Usuário: <input type = "text" name="nome_usuario"><br/><br/>
        Senha  : <input type = "text" name="senha"><br/><br/>
        <button type = "submit">OK</button>  -->

        <!--qual a diferença em colocar label, type="password" e requires?? -->
        <label for="username">Usuário:</label>
        <input type="text" id="nome_usuario" name="nome_usuario" required><br><br>
        <label for="password">Senha:</label>
        <input type="password" id="senha" name="senha" required><br><br>
        <input type="submit" value="Login">
    </form>

{% endblock %}
